<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="100%" height="100%" viewBox="0 0 330 938.1">
 <defs>
  <style type="text/css">
   .person {
    fill: #ddd;
    stroke: grey;
    stroke-width: 3px;
   }
   .fill {
    fill: green;
    stroke: darkgreen;
    stroke-width: 3px;
   }
  </style>
  <!-- Man outline -->
  <path id="manOutline" d="m490.9 500.7l-2.5 9.1-5 9.1-2.8 5.6c-0.7 1.5-1.3 2.7-1.3 2.7l2.5-15.8s0.8 2.5 0.8-14.9c0-17.3 0.8-53 0.8-53l-3.3-26.5v-20.7l13.3 38.1 0.8 21.6s-3.3 44.7-3.3 44.7zm-207.5-38.5c-1.2 6.2-0.9 7.1-0.3 10 2.4 14.1-2.6 26.8-2.6 26.8v13.3l-5-5s-1.6-9.9-1.6-9.9l0.8-24.9s2.2-36 2.2-36l5.8 20.4s2-0.8 0.7 5.3zm259.7-80.8l-4.2-35.6s-15.7-27.3-4.1-35.6 8.3-3.3 0.8-14.1c-7.4-10.7-8.3-27.3-14.9-45.5s-18.4-20.9-18.9-22.3c-0.6-1.3-8.6-11.3-10.8-14-2.2-2.8-53.3-32.6-53.3-32.6s-6.6-1.1-10-2.2c-3.3-1.1-9.3-5.6-9.3-5.6s-1.1 0.9-6.4-1.1c-5.2-1.9-8.6-6.6-8.6-6.6s-0.8-21.5 0.3-25.4 2.5-10.8 5.3-11.3c2.7-0.6 3-8.9 4.1-14.9 1.1-6.1-1.4-8.6-2.5-8.6s-1.4-1.9-1.4-1.9-1.1-6.39 0.9-9.15c1.9-2.75 0.8-17.4 0.3-23.19-0.6-5.8-4.7-6.91-4.7-6.91l-5-7.46-9.1-8.28-5.5-4.42-5.6-3.59s-10.7-1.93-18.5-1.66c-7.7 0.28-19.6 9.11-27.6 16.57s-7.7 19.33-7.7 19.33l-0.9 13.81s1.4 7.18 1.4 7.18l-4.5 12.67v11.6s5.8 0.8 5.8 0.8l2.5 9.1 6.6 16.6-1.6 27.3-8.3 1.7-6.6 4.9-13.3 10s-11.6 9.1-31.4 19.9c-19.9 10.7-29.9 25.6-37.3 49.6-7.5 24.1-25.7 42.3-25.7 42.3l9.1 5.8 11.6 11.6s4.1 44.7 0 54.6-1.7 32.3-1.7 63.8c0 31.4 8.3 37.2 8.3 37.2l5 46.4v33.1l5 21.6 18.2 13.2 13.2 10.8s8.3 84.4 10.8 136.6 19.1 123.4 19.1 123.4-0.9 0.8-7.5 4.1c-6.6 3.4 5.8 11.6 5.8 11.6s7.5 10 7.5 10-15.8 10.7-20.7 15.7c-5 5-4.2 8.3-4.2 8.3l5 4.1s-11.6 13.3-11.6 13.3-6.6 15.7-8.3 23.2c-1.6 7.4 11.6 16.5 28.2 17.4 16.5 0.8 25.6-6.7 33.9-10.8 8.3-4.2 9.1-19.1 9.1-19.1l2.5-16.5 13.3-5.8 9.9-7.5 2.5-13.2v-8.3l7.5-5 3.3-8.2-5-13.3s-4.1-48-4.1-48l-1.7-120.1s4.2-43.9 4.2-43.9 4.9-67.1 4.9-67.1 4.2 47.2 4.2 47.2l8.2 20.7 7.5 23.2s6.6 92.8 2.5 127.5c-4.2 34.8 5.8 56.4 5.8 56.4l2.5 4.9 1.6 10s4.2 9.1 4.2 9.1l12.4 10.7s-4.1 8.3-4.1 8.3l9.1 10.8 5.8 5 2.5 16.5 12.4 20.7s8.3 5 24.8 5.8c16.6 0.8 21.6-6.6 21.6-6.6l8.2-16.6-8.2-33.9-8.3-12.4s-13.3-8.3-13.3-8.3l5-9.1v-18.3l-6.6-1.6 4.1-11.6 2.5-37.3s-6.6-25.6-3.3-33.1c3.3-7.4-1.7-67.1 0.8-92.7 2.5-25.7-10.8-72.9-10.8-72.9l42.3-27.3s19-34 19-34l-2.4-11.6-5.8-24 9.1-73.7s3.3-52.2 3.3-52.2z" transform="translate(-213.4 -35.36)"/>
  <!-- Woman outline -->
  <path  id="womanOutline" d="m470.4 381.3c0.6-0.2 1.3-0.3 1.6-0.3 0.2 0 0.4 0.1 0.5 0.1l-2.1 0.2zm-64.2 303.4c-2.1 6.8-1.6 14.7-2.1 18.8-0.6 4.2-1.6 1.6-1.6 13.1s-2.1 35-4.7 47.1c-2.6 12-2.6 19.3-2.6 27.1 0 7.9-8.4 41.9-8.4 41.9l-1 15.1-1.1 5.3-0.5-24.1s-3.1-9.4-3.1-9.4-9.4-81-9.4-86.3c0-5.2-2.7-14.6-2.7-14.6l2.1-6.8 1.6-26.1 2.6-12s3.2-29.8 5.3-56.5c2-26.7 8.8-63.8 8.8-63.8l2.1-10.4s5.8 18.3 10.5 71.6c4.1 46.4-2.4 33.5 2.1 48.1 2.1 6.8 4.2 15.1 2.1 21.9zm102.9-368l-2-2.1s0.5-0.5 2.6-3.1-2.6-3.7-3.2-6.3c-0.5-2.6-9.9-32.9-9.9-32.9s1-6.8-1-11.5c-2.1-4.7-1.1-21.5-1.6-31.9-0.5-10.5-7.3-16.7-14.1-20.4s-15.6-6.3-21.5-5.7c-24.7 2.3-23.6 3-8.3-4.2 0 0 1-8.4 3.1-14.1 2.1-5.8-0.5-3.2-2.1-9.5-1.5-6.2-0.5-6.2 0.5-13.5 1.1-7.4-0.5-10.5-3.1-13.6-2.6-3.2-3.1-1.1-3.1-10.5s-4.7-19.9-9.4-43.9c-4.7-24.05-31.4-50.19-37.2-53.84-5.7-3.66-13.6-4.71-19.3-4.71-5.8 0-11 3.66-11 3.66s-7.8 1.57-13 2.09c-5.3 0.53-12.1 8.37-18.3 15.69-6.3 7.31-14.7 29.27-17.3 45.51-2.6 16.2-1.6 21.9-5.7 38.6-4.2 16.8-7.9 24.1-7.9 24.1l3.2 12.5 17.9 11s4.3 6.5 4.3 6.5-14.5 7.3-30.6 10.2c-15 2.8-16.7 6.8-20.9 30.4-4.2 23.5-6.3 64.8-10 95.1-3.6 30.3 18.9 63.3 22 66.9 2 2.3 7.3 2.3 11 2 1.7 28.7 2.4 2.9 0 28.3-1.1 11-2.6 23.6-2.6 23.6l-1.1 8.3s-3.1 10-5.2 17.8 0 26.1 0 26.1 0.5 26.2 0.5 31.9v14.1s4.7 62.8 8.4 89.9c3.6 27.2 5.2 65.9 5.2 65.9l-0.5 4.2 1 4.2-1.5 5.2s0.5 5.2 0 9.4c-0.6 4.2-3.2 17.8-3.2 17.8s1.6 12.5 0.6 33.4c-1.1 21 5.2 60.7 7.8 77.4s9.9 50.2 12 63.8 1.6 9.4 1.6 9.4l3.6 2.6s2.2 11.3-0.1 14.9c-3.6 5.6-17.1 12.6-17.1 12.6l-1.6 13.1s35.1-1.4 41.8-1.9c6.8-0.5 14.8 1.1 22.7-10.4 7.8-11.5 4.5-18.9 4.5-18.9l-1.5-6.3 1-3.6 3.7 3.6s2.3 12.2 9.9 25.7c6.8 12 13.1 8.8 13.1 8.8l10.4-1 3.7-3.1c3.2-10.2 2.9-10.1 9.9-23 6.3-11.5 0.5-10 0.5-10l10-4.7 11.5-51.7s2.1-22.5 2.1-22.5l3.6-31.4 3.2-17.2 1.5-25.6s5.2-25.1 6.8-41.3-1.6-15.2-2.1-23c-0.5-7.9 0-8.9-2.1-23s2.6-28.8 2.6-28.8l5.3-51.2s8.9-59.1 14.1-77.9 1.6-23 1.6-39.7c0-16.8 0.5-20.9 0.5-20.9s-5.8-27.2-11-46.6c-5.2-19.3-5.7-19.3-6.3-28.7-0.5-9.1 0.9-17.1 1.1-17.7 7.1 0.7 16.2 3.6 16.2 3.6s4.2 0 8.9-4.7 7.8-27.7 8.9-34c1-6.3 1.5-22 1.5-22l2.1-3.1-1.6-4.2z" transform="translate(-225.3 -34.95)"/>
  <!-- Clipping -->
  <clipPath id="fillClip">
    <rect id="fillRect" width="100%" y="30%" height="70%"/>
  </clipPath>
  <!-- Dynamic changes -->
  <script type="text/javascript">
  <![CDATA[
    document.setLevel = function(current, full, className) {
      var fillRect = document.getElementById("fillRect");
      var percent = current / full * 100;
      var clampedPercent = Math.max(Math.min(percent, 100), 0);
      fillRect.setAttribute("y", 100-clampedPercent.toFixed(0) + "%");
      fillRect.setAttribute("height", clampedPercent.toFixed(0) + "%");
    }
    document.setGender = function(gender) {
      gender = gender.toLowerCase();
      var id = gender === "woman" || gender == "female" || gender === "f"
             ? "womanOutline" : "manOutline";
      var outlines = document.querySelectorAll("use.person, use.fill");
      for (var i = 0; i < outlines.length; i++) {
        outlines[i].setAttributeNS("http://www.w3.org/1999/xlink",
                                   "xlink:href", "#" + id);
      }
    }
  ]]>
  </script>
 </defs>
 <use xlink:href="#manOutline" class="person"/>
 <use xlink:href="#manOutline" class="fill" clip-path="url(#fillClip)"/>
</svg>
